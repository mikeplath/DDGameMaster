<Page x:Class="DDGameMaster.Views.CharacterSheetView"
      xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
      xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
      mc:Ignorable="d" 
      Title="CharacterSheetView" Height="900" Width="1000">
    <ScrollViewer VerticalScrollBarVisibility="Auto">
        <Grid Background="#2D2D30">
            <StackPanel HorizontalAlignment="Center" VerticalAlignment="Center" Margin="20">
                <TextBlock Text="Character Sheet" Foreground="White" FontSize="32" HorizontalAlignment="Center" Margin="0,0,0,10"/>
                <Border BorderBrush="Gray" BorderThickness="1" CornerRadius="5" Padding="15" MinWidth="950">
                    <Grid>
                        <Grid.RowDefinitions><RowDefinition Height="Auto"/><RowDefinition Height="Auto"/><RowDefinition Height="*"/></Grid.RowDefinitions>
                        
                        <Grid Grid.Row="0">
                            <Grid.ColumnDefinitions><ColumnDefinition Width="Auto"/><ColumnDefinition Width="*"/><ColumnDefinition Width="Auto"/></Grid.ColumnDefinitions>
                            <StackPanel Grid.Column="0" Margin="0,0,15,0" VerticalAlignment="Top" MinWidth="250">
                                <TextBlock x:Name="NameTextBlock" Foreground="White" FontSize="22" FontWeight="Bold" HorizontalAlignment="Center"/>
                                <TextBlock x:Name="RaceClassLevelTextBlock" Foreground="LightGray" FontSize="18" HorizontalAlignment="Center"/>
                                <TextBlock x:Name="AlignmentTextBlock" Foreground="LightGray" FontSize="18" HorizontalAlignment="Center" Margin="0,0,0,5"/>
                                <TextBlock x:Name="ExperienceTextBlock" Foreground="Gold" FontSize="16" HorizontalAlignment="Center" Margin="0,0,0,10"/>
                                <StackPanel Orientation="Horizontal" HorizontalAlignment="Center" Margin="0,0,0,5"><TextBlock x:Name="ArmorClassTextBlock" Foreground="LightBlue" FontSize="20" FontWeight="Bold" Margin="0,0,15,0"/><TextBlock x:Name="HitPointsTextBlock" Foreground="IndianRed" FontSize="20" FontWeight="Bold" Margin="15,0,0,0"/></StackPanel>
                                <StackPanel Orientation="Horizontal" HorizontalAlignment="Center" Margin="0,5,0,10"><Button Content="Damage" Width="70" Height="28" Margin="5" Click="Damage_Click"/><TextBox x:Name="HpAmountTextBox" Width="50" Height="28" Text="1" VerticalContentAlignment="Center" HorizontalContentAlignment="Center"/><Button Content="Heal" Width="70" Height="28" Margin="5" Click="Heal_Click"/></StackPanel>
                                <TextBlock Text="Saving Throws" Foreground="White" FontSize="18" FontWeight="Bold" Margin="5,10,5,5"/>
                                <TextBlock x:Name="StrSaveTextBlock" Foreground="White" FontSize="14" Margin="15,2,5,2"/><TextBlock x:Name="DexSaveTextBlock" Foreground="White" FontSize="14" Margin="15,2,5,2"/><TextBlock x:Name="ConSaveTextBlock" Foreground="White" FontSize="14" Margin="15,2,5,2"/><TextBlock x:Name="IntSaveTextBlock" Foreground="White" FontSize="14" Margin="15,2,5,2"/><TextBlock x:Name="WisSaveTextBlock" Foreground="White" FontSize="14" Margin="15,2,5,2"/><TextBlock x:Name="ChaSaveTextBlock" Foreground="White" FontSize="14" Margin="15,2,5,10"/>
                            </StackPanel>
                            <StackPanel Grid.Column="1" Margin="15,0,15,0" VerticalAlignment="Top"><TextBlock Text="Skills" Foreground="White" FontSize="20" HorizontalAlignment="Center" Margin="0,0,0,10"/><Grid x:Name="SkillsGrid"/></StackPanel>
                            <StackPanel Grid.Column="2" Margin="15,0,0,0" VerticalAlignment="Top">
                                <TextBlock Text="Inventory" Foreground="White" FontSize="20" HorizontalAlignment="Center" Margin="0,0,0,10"/>
                                <ListBox x:Name="InventoryListBox" DisplayMemberPath="Name" Height="220" Width="220" Background="#3E3E42" Foreground="White" BorderThickness="1" SelectionChanged="InventoryListBox_SelectionChanged"/>
                                <StackPanel Orientation="Vertical" Margin="0,10,0,0">
                                    <TextBlock Text="Item Name:" Foreground="White" Margin="0,0,0,2"/><TextBox x:Name="ItemNameTextBox" Width="220" Height="30" VerticalContentAlignment="Center" Margin="0,0,0,5"/>
                                    <TextBlock Text="Item Description (Optional):" Foreground="White" Margin="0,0,0,2"/><TextBox x:Name="ItemDescriptionTextBox" Width="220" Height="50" TextWrapping="Wrap" AcceptsReturn="True" VerticalScrollBarVisibility="Auto" Margin="0,0,0,10"/>
                                    <Button Content="Add Item" Width="220" Height="30" Click="AddItem_Click"/>
                                </StackPanel>
                            </StackPanel>
                        </Grid>

                        <Grid Grid.Row="1" Margin="0,15,0,0">
                            <Grid.ColumnDefinitions><ColumnDefinition Width="Auto"/><ColumnDefinition Width="*"/><ColumnDefinition Width="*"/></Grid.ColumnDefinitions>
                            <StackPanel Grid.Column="0" Margin="0,0,15,0" MinWidth="250"><TextBlock Text="Abilities &amp; Features" Foreground="White" FontSize="18" FontWeight="Bold" Margin="5,0,5,5"/><ListBox x:Name="AbilitiesListBox" Background="#3E3E42" Foreground="White" BorderThickness="0" MinHeight="150" MaxHeight="200"/></StackPanel>
                            <StackPanel Grid.Column="1" Margin="15,0,15,0"><TextBlock Text="Appearance" Foreground="White" FontSize="18" FontWeight="Bold" Margin="5,0,5,5"/><TextBlock x:Name="AppearanceTextBlock" TextWrapping="Wrap" Foreground="LightGray"/></StackPanel>
                            <StackPanel Grid.Column="2" Margin="15,0,0,0"><TextBlock Text="Backstory" Foreground="White" FontSize="18" FontWeight="Bold" Margin="5,0,5,5"/><TextBlock x:Name="BackstoryTextBlock" TextWrapping="Wrap" Foreground="LightGray"/></StackPanel>
                        </Grid>

                        <!-- NEW SECTION for Personality Details -->
                        <Grid Grid.Row="2" Margin="0,15,0,0">
                            <Grid.ColumnDefinitions><ColumnDefinition Width="*"/><ColumnDefinition Width="*"/></Grid.ColumnDefinitions>
                            <Grid.RowDefinitions><RowDefinition Height="Auto"/><RowDefinition Height="Auto"/></Grid.RowDefinitions>
                            <StackPanel Grid.Row="0" Grid.Column="0" Margin="5,0,10,10"><TextBlock Text="Personality Traits" Foreground="White" FontSize="16" FontWeight="Bold"/><TextBlock x:Name="PersonalityTraitsTextBlock" Foreground="LightGray" TextWrapping="Wrap"/></StackPanel>
                            <StackPanel Grid.Row="0" Grid.Column="1" Margin="10,0,5,10"><TextBlock Text="Ideals" Foreground="White" FontSize="16" FontWeight="Bold"/><TextBlock x:Name="IdealsTextBlock" Foreground="LightGray" TextWrapping="Wrap"/></StackPanel>
                            <StackPanel Grid.Row="1" Grid.Column="0" Margin="5,10,10,0"><TextBlock Text="Bonds" Foreground="White" FontSize="16" FontWeight="Bold"/><TextBlock x:Name="BondsTextBlock" Foreground="LightGray" TextWrapping="Wrap"/></StackPanel>
                            <StackPanel Grid.Row="1" Grid.Column="1" Margin="10,10,5,0"><TextBlock Text="Flaws" Foreground="White" FontSize="16" FontWeight="Bold"/><TextBlock x:Name="FlawsTextBlock" Foreground="LightGray" TextWrapping="Wrap"/></StackPanel>
                        </Grid>
                    </Grid>
                </Border>
                
                <StackPanel Orientation="Horizontal" HorizontalAlignment="Center" Margin="0,15,0,0">
                    <TextBox x:Name="XpAmountTextBox" Width="80" Height="30" Text="100" VerticalContentAlignment="Center" HorizontalContentAlignment="Center"/>
                    <Button Content="Add XP" Width="100" Height="30" Margin="10,0,0,0" Click="AddXp_Click"/>
                </StackPanel>
                <Button Content="Back" Width="200" Height="40" Margin="0,15,0,0" Click="Back_Click"/>
            </StackPanel>
        </Grid>
    </ScrollViewer>
</Page>